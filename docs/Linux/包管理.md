# 包管理

## APT

在 Ubuntu 上，**APT（Advanced Package Tool）** 是官方默认且最主流的包管理器。

**常用命令**：

```bash
sudo apt update          # 更新软件源列表
sudo apt install <包名>   # 安装软件
sudo apt remove <包名>    # 卸载软件
sudo apt upgrade         # 升级所有已安装包
```

## dpkg

> 底层工具，直接操作 `.deb` 包，不解决依赖。

**常用命令**：
```bash
sudo dpkg -i <package.deb>   # 安装本地 .deb 包
sudo dpkg -r <包名>          # 卸载
```
**适用场景**：手动安装第三方 `.deb` 包（通常配合 `apt` 解决依赖）。

## 已安装软件的位置

### 软件包文件（.deb）缓存位置

下载的 `.deb` 安装包默认存储在：

```
/var/cache/apt/archives/
```

安装后，这些文件通常会被保留。如果需要清理缓存，可以运行：

```bash
sudo apt clean      # 删除所有缓存包
sudo apt autoclean  # 仅删除过时的缓存包
```

### 已安装软件的文件位置

安装后，软件的文件会分散到系统的各个目录中，主要包括：

- **二进制可执行文件**
  ```
  /usr/bin/      # 用户命令
  /usr/sbin/     # 系统管理命令
  /usr/local/bin/ # 用户手动编译安装的软件（非 apt 安装）
  ```

- **库文件**
  ```
  /usr/lib/      # 动态库和静态库
  /usr/lib/x86_64-linux-gnu/ # 64 位系统库文件
  ```

- **配置文件**
  ```
  /etc/          # 软件的全局配置文件
  ```

- **头文件（开发用）**
  ```
  /usr/include/  # C/C++ 头文件
  ```

- **共享数据**
  ```
  /usr/share/    # 文档、图标、字体等共享数据
  ```

- **服务与系统文件**
  ```
  /lib/systemd/system/  # systemd 服务单元文件
  /etc/init.d/          # SysVinit 启动脚本（旧系统）
  ```

### 查询已安装文件的位置
如果想查看某个已安装软件包的文件具体安装到哪里，可以使用：
```bash
dpkg -L <package-name>
```
例如：
```bash
dpkg -L curl
```

## 查找命令对应的软件包
如果知道某个命令，但不确定它属于哪个软件包，可以运行：

```bash
dpkg -S $(which <command>)
```

例如：

```bash
dpkg -S $(which curl)
```